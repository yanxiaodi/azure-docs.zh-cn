---
title: 使用 Azure 开发测试实验室中的声明功能 |Microsoft Docs
description: 了解使用 Azure 开发测试实验室的声明/取消认领功能的不同方案
services: devtest-lab
documentationcenter: na
author: spelluru
manager: ''
editor: ''
ms.service: devtest-lab
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/12/2019
ms.author: spelluru
ms.openlocfilehash: a15148260bccadc59966c86031100f0e0332b0f9
ms.sourcegitcommit: 470041c681719df2d4ee9b81c9be6104befffcea
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 07/12/2019
ms.locfileid: "67861425"
---
# <a name="use-claim-capabilities-in-azure-devtest-labs"></a>使用 Azure 开发测试实验室中的声明功能
Azure 开发测试实验室服务可提高开发人员和测试人员的工作效率和效率。 本文重点介绍在 Azure 开发测试实验室中声明或取消认领虚拟机的能力。 它还列出了此功能改进用户体验的各种方式。 在查看可以使用此功能的不同方案之前, 让我们来看看哪些**申报**是什么及其工作原理。

## <a name="claimable-machines"></a>可认领机
可认领计算机是在没有所有者的实验室中创建的虚拟机 (VM)。 计算机声明后, 用户将拥有该 VM 的各种选项。 用户声明计算机时, 会进行一些更改。 VM 将从**可认领虚拟机**列表移动到 Azure 门户中的 "**我的虚拟机**" 列表。 

用户可以连接到 VM, 自定义项目、重新启动、停止或取消认领计算机。 有几种方法可以使 VM 可认领:

- 创建计算机并将其取消认领, 使其移动到可认领池。 
- 使用 "[高级设置](https://azure.microsoft.com/updates/azure-devtest-labs-claim-lab-vms-from-a-shared-pool/)" 创建 VM, 并将其放置在共享池中。

在这两种情况下, 可以有效地使用声明/声明功能。 第一种情况需要更预见和更好地设计和执行。 第二个是更多的情况。 下面是一些不同事例的示例。

## <a name="designed-use-of-claimable-machines"></a>可认领计算机的设计使用

- **软件开发/测试:** 使开发人员或测试人员可以更高效地完成配置的计算机并使其处于未声明状态。 如果使用一组具有不同配置、必要工具和最新代码的 Vm, 则用户可以在不花费时间来设置计算机的情况下, 声明 VM 并开始工作。 在虚拟机之前, 将设置计算机, 但会关闭计算机, 从而降低使用不太频繁的计算机的成本。 需要 Vm 时, 用户只需声明 VM 即可启动计算机。 在这种情况下, 取消认领选项并不有用, 因为创建新 VM 通常更简单、更便宜。
- **课堂/实验室:** 让 Vm 预先配置用于类或实验室, 以便学生可以使用 Azure 门户立即连接到计算机。  学生声明 VM 后, 实验室确保没有人可以声明同一台计算机。 自动执行此过程可确保有指定环境所需的计算机数。 如果学生未显示或正在延迟运行, 则未声明的计算机可以保持可用状态, 直到会话结束并降低成本。 在此方案中, 取消认领选项不是有效的, 因为 VM 在上一个用户完成时处于未知状态。
- **轻而易举**使用计算机进行演示, 其中实验室中的计算机是使用特定环境设置的。 此功能在以下情况下非常有用: 多人可能会同时提供一次演示, 如会议。 在这种情况下, 取消认领选项可能很有用, 因为演示不应更改计算机的状态, 从而允许用户将 VM 返回到可认领池进行下一次演示。 在取消预配未声明机并降低成本的情况下, 可以在实验室中将 Vm 留在更长时间内。
- **临时/协定工作人员:** 允许用户使用计算机。 离开后, 它们会将 VM 返回到可认领池, 而不会丢失数据。 利用 VM 未声明, 其他用户可以声明 VM 并继续或查看计算机以获取其他信息。
- **一般:** 在许多不同的情况下, 在特定节奏上自动配置和部署 Vm 的功能很有用。 在多个不同的情况下, 通过使用一种设置的配置, 可以通过自动化的过程来构建处于未声明状态的 Vm, 从而帮助用户提高用户效率。 根据你的需要, 配置可能包括不同的操作系统、语言、磁盘或[其他软件 (项目)](devtest-lab-artifact-author.md) 。 从实验室声明 VM 的功能使实验室用户能够获得正确配置的系统, 而无需花费时间或精力来配置计算机。 实验室管理器可以使用虚拟机的声明状态来改进生成的计算机数、清理计算机并确定配置的优先级。 [映像工厂](image-factory-create.md)是为多个实验室构建 vm 和映像的一个很好的示例。 可以修改这些脚本以使用相应的更改执行以下任何情况, 或将其用作创建自定义系统的参考。

## <a name="situational-use-of-claimable-machines"></a>使用可认领计算机的情况

- 使用声明/取消声明功能, 使用户能够从一台计算机向另一台计算机传递控制计算机, 而无需明确知道要选择哪一台计算机。
- 开发、测试和调试某个方案, 在此方案中, 特定的计算机配置可以再现 bug, 因此, 可以未声明计算机, 以便其他开发人员可以声明计算机并继续工作。 当更多人员在世界各地的不同领域远程工作时, 此功能特别有用。 
- 团队成员可以使用单个环境。 例如, 您可以手动设置不能自动执行的复杂环境, 或创建只能处理单个输入 (如图像) 的资源。 过去, 此问题的解决方法是让专用计算机启动并运行。 可认领功能通过提供内置用户访问控制和视觉标识 (如果可用) 来改进手动过程。 当未声明时, 将取消预配 VM 以降低成本。
- 将数据磁盘附加到 VM。 每个磁盘最多可以有大约 1 TB 的数据, 从而可以传递大量数据, 而无需复制或复制数据。 VM 最初创建时使用的是包含大量数据的附加磁盘。  然后, 任何用户都可以声明该计算机并访问数据。 完成后, 取消认领 VM 以允许其他用户到该计算机。

使用可认领计算机时, 有一些注意事项, 最常见的是获取对计算机的访问。 如果计算机已加入域, 则声称计算机的用户将需要被授予访问权限, 这通常是通过在创建 VM 时向包含实验室中所有用户的组授予访问权限来完成的。 如果计算机未加入域, 则需要运行公共存储库中的**RESET VM Password**项目, 以便将用户添加为管理员。  即使启动或声明了计算机, 也可以应用项目。

## <a name="next-steps"></a>后续步骤
请参阅以下文章:[在 Azure 开发测试实验室中创建和管理可认领 Vm](devtest-lab-add-claimable-vm.md)
