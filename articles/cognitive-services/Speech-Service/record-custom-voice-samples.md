---
title: 记录自定义语音示例-语音服务
titleSuffix: Azure Cognitive Services
description: 编写可靠的脚本、聘请优秀的配音员并采用专业录制，制作一条产品级的自定义语音。
services: cognitive-services
author: erhopf
manager: nitinme
ms.service: cognitive-services
ms.subservice: speech-service
ms.topic: conceptual
ms.date: 07/05/2019
ms.author: erhopf
ms.openlocfilehash: 47e1f8bf178723a5d4be323f24724214a67499e2
ms.sourcegitcommit: 7c4de3e22b8e9d71c579f31cbfcea9f22d43721a
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 07/26/2019
ms.locfileid: "68559200"
---
# <a name="record-voice-samples-to-create-a-custom-voice"></a>录制语音样本用于创建自定义语音

从头开始创建高质量的自定义语音并非是一件轻松的事情。 自定义语音的核心部分是人类语音的大量音频示例。 这些录音是否精良至关重要。 挑选精通这类录制的配音员，让专业录音工程师使用专业设备进行录制。

但是，在制作这些录音之前，需要一个脚本，即配音员要用来创建音频示例的字词。 为了获得最佳效果，脚本必须包含各种拼音且内容足够多样，以训练自定义语音模型。

要创建专业的语音录制，需要很多细微而重要的细节。 本指南是一个流程线路图，可帮助你获得良好、一致的结果。

> [!TIP]
> 要使录制结果质量最佳，请考虑使用 Microsoft 来开发自定义语音。 Microsoft 在为自己的产品（包括 Cortana 和 Office）制作精良语音方面经验丰富。

## <a name="voice-recording-roles"></a>语音录制角色

自定义语音录制项目有 4 个基本角色：

Role|用途
-|-
配音员        |其语音将构成自定义语音的基础。
录音工程师  |监督录音的技术方面并操作录音设备。
导演            |撰写脚本并指导配音员的表演。
编辑器              |完成音频文件并润色上传到自定义语音门户。

一个人可能会担任多个角色。 本指南假设由你主要担任导演角色并聘请配音员和录音工程师。 如果想自己制作录音，请参阅本文中有关录音工程师角色的信息。 只有在会话完成后才需要编辑角色，因此可以由主管或录音工程师兼任。

## <a name="choose-your-voice-talent"></a>选择配音员

具有旁白或配音工作经验的演员可成为优秀的自定义语音配音员。 还可经常在播音员和新闻广播员中挑选合适的配音员。

挑选你喜欢其本来的声音的配音员。 可创作独特的“角色”声音，但对大多数配音员而言，要保证角色声音一致非常困难，力求一致会导致声音绷紧。

> [!TIP]
> 通常，要避免使用可识别的声音来创建自定义语音；当然，除非你的目标是制作名人的声音。 较为陌生的声音通常更不会分散用户的注意力。

挑选配音员时只有一个最重要的因素，就是一致性。 录音应该听起来像都是同一天、同一个房间录制的。 要实现这一理想，可通过良好的录音练习和工程操作。

天平的另一半是配音员。 他们必须能够以一致的速率、音量级别、音调和音调说话。 必须口齿清晰。 人才还需要严格控制其螺距变化、情绪影响和语音 mannerisms。

相比于其他类型的语音录制，录制自定义语音示例可能更加费事。 大多数配音员每天可录制两到三个小时。 将过程限制为每周三到四次，如果可能的话，中间休息一天。

为语音模型制作的录音不能带任何情绪。 也就是说，悲伤的语句不能用悲伤的方式朗读。 稍后可通过韵律控制将情绪添加到合成语音中。 与配音员合作，制作一个“角色”来定义自定义语音的整体声音和情感基调。 在此过程中，要确定该角色“不带感情”的声音是怎样的声音。

例如，角色的个性可能是天生乐观。 因此即使是不带感情，“角色”的声音也可能带有乐观情绪。 但是，这种个性特征要一致且细微处理。 按现有的声音朗读听一听，了解你想要什么样的声音。

> [!TIP]
> 通常，你录制的语音要归你所有。 配音员应该按照项目的承揽合同行事。

## <a name="create-a-script"></a>创建脚本

所有自定义语音录制阶段的起点都是脚本，其中包含配音员要朗读的语句。 （术语“语句”包括完整的句子和较短的短语。）

脚本中的语句可以来自任何地方：小说、纪实、演讲稿件、新闻报道以及可印刷其他任何内容。 如果想要确保语音适当处理特定类型的字词（例如医学术语或编程术语），可能需要包含学术论文或技术文档中的句子。 有关的潜在法律问题的简要说明，请参阅[法律](#legalities)部分。 也可自行编写文本。

语句的来源不一定要相同或属于同一类型。 甚至彼此不一定要有任何联系。 但是，如果将在语音应用程序中使用固定短语（例如“你已成功登录”），请确保将其包含在脚本中。 这样，自定义语音可更好地读出这些短语。 如果决定使用录音来代替合成语音，你已经将其纳入同一语音中了。

虽然一致性是挑选配音员的关键，但多样性是优秀脚本的标志。 脚本要包含许多不同的字词和句子，句子长度、结构和情绪也要各式各样。 语言中的每个声音要在不同的语境下多次表达（称为拼音覆盖率）。

此外，文本要包含特定声音可用书写表示的所有方式，并将每个声音放在句子中的不同位置。 要同时包含陈述句和疑问句，而且用适当的语调朗读。

编写的脚本很难提供恰好足够的数据来让自定义语音门户能够生成最佳语音。 实际上，要制作拼音覆盖率高的脚本，最简单方法是包含大量示例。 Microsoft 提供的标准语音就是由成千上万条语句生成的。 应该准备好至少记录几个到几千个话语，进而生成一条生产级的自定义语音。

仔细检查脚本是否有错误。 如果可能，请其他人检查一下。 与配音员一起浏览脚本时，可能会发现更多的错误。

### <a name="script-format"></a>脚本格式

可在 Microsoft Word 中编写脚本。 脚本在录制阶段中使用，因此可以任何易使用的方式进行编制。 单独创建自定义语音门户所需的文本文件。

基本脚本格式包含三列：

* 语句的数量（最少 1 句）。 编号可让工作室中的每个人都能轻松找到特定语句（“让我们再试一次编号 356”）。 可使用 Word 的段落编号功能自动为表行编号。
* 可在空白列中写下每个话语的试录号或时间码，以便在完成的录音中找到它。
* 语句自身的文本。

![示例脚本](media/custom-voice/script.png)

> [!NOTE]
> 大多数工作室都要录制简短的片段，称为试录。 每次试录通常包含 10 到 24 条语句。 记下试录号就足以让你在之后找到某条语句。 如果录制的工作室喜欢制作更长时间的录音，则需要记下时间码。 工作室将有一个醒目的时间显示。

在每行后留出足够的空间来写注释。 确保页面之间没有分隔的语句。 对页面进行编号并在纸张的一面打印脚本。

将脚本一式三份打印：一份给配音员、一份给工程师、一份给导演（你）。 使用回形针而非订书钉：经验丰富的语音艺术家不将页面重在一起，避免在翻页时产生噪音。

### <a name="legalities"></a>合法性

根据版权法，参与者朗读受版权保护的文本也可能算作表演，作品的作者应该为此得到补偿。 在最终产品（即自定义语音）中无法识别此表演。 即便如此，为此目的而使用受版权保护作品的合法性尚未确定。 Microsoft 无法就此问题提供法律建议；请咨询你自己的法律顾问。

幸运的是，可完全避免这些问题。 有很多文本源无需许可或权限即可使用。

|文本源|描述|
|-|-|
|[CMU Arctic corpus](http://festvox.org/cmu_arctic/)|约 1100 个句子，选自专用于语音合成项目的无版权作品。 首先使用这类句子是很可取的。|
|作品不再<br>受版权保护|通常是 1923 年之前出版的作品。 在英语方面，[Project Gutenberg](https://www.gutenberg.org/)（古腾堡计划）提供了数以万计的此类作品。 你可能想要关注较新的作品，因为语言将更接近现代英语。|
|政府作品&nbsp;|美国政府创建的工作在美国中没有版权, 不过政府可能会在其他国家/地区宣称版权。|
|公共域|已明确放弃版权或专用于公共域的作品。 在某些司法管辖区可能无法完全放弃版权。|
|许可作品|根据 Creative Commons 或 GNU 自由文档许可证 (GFDL) 等许可分发的作品。 维基百科使用 GFDL。 但是，某些许可证会可能对影响自定义语音模型创建的许可内容的表演施加约束，因此请仔细阅读许可证。|

## <a name="recording-your-script"></a>录制脚本

在专门从事语音工作的专业录音室内录制脚本。 他们有录音棚、合适的设备和适当的人员进行操作。 不节省录音费用是值得的。

与工作室的录制工程师一起讨论你的项目, 倾听其建议。 录音要有很少或没有动态范围压缩（最大为 4:1）。 音频具有一致的音量和高信噪比至关重要，同时没有不必要的声音。

### <a name="do-it-yourself"></a>自制

如果想自己录制，而不去录音棚录制，这里有一个简短的入门。 由于家庭录音和播客的兴起，在网上找到好的录音建议和资源比以往任何时候都更容易。

“录音棚”应该是一个没有明显回音或“空间声”的小房间。 应尽可能安静和隔音。 墙上的窗帘可用于减少回声、中和或“消除”房间的声音。

使用专用于录制语音的高品质的录音室电容麦克风（简称“麦克风”）。 Sennheiser、AKG，甚至较新的 Zoom 麦克风可以产生很棒的效果。 可购买麦克风，也可从当地的视听设备租赁公司租用一个。 寻找带 USB 接口的麦克风。 这种类型的麦克风可方便地将麦克风元件、前置放大器和模数转换器组合到一个封装中，简化了连接。

也可使用模拟麦克风。 许多出租店提供以语音特征而闻名的“复古”麦克风。 请注意，专业模拟装置使用均衡的 XLR 连接器，而不是消费类设备中使用的 1/4 英寸插头。 如果要模拟，还需要一个前置放大器和一个带这些连接器的计算机音频接口。

将麦克风安装在支架或吊杆上，并在麦克风前安装一个噗声滤除器，以消除“爆破”音（如“p”和“b”）所产生的噪音。 有些麦克风配有悬挂机架，它能消除支架产生的振动，这很有帮助。

配音员必须与麦克风保持一致的距离。 在地板上用胶带标记其应该站立的位置。 如果配音员更喜欢坐着，请特别注意监控麦克风距离并避免椅子产生噪音。

使用支架来放置脚本。 避免支架倾斜，它会造成声音传播到麦克风上。

操作录音设备的人员（即工程师）不能和配音员在同一个房间，而且要使用某种方式（对讲电路）与录音棚中的配音员交谈。

录音应包含尽可能少的噪音，目标是 80 分贝或更高的信噪比。

仔细听“录音棚”中没人发声时的录音，找出噪音来自哪里，并消除原因。 常见的噪声源是通风口、日光灯镇流器、附近道路上的交通以及设备风扇（甚至是笔记本电脑，可能还有风扇）。 麦克风和电缆可以从附近的交流电线接收电噪声，通常是呼呼声或嗡嗡声。 接地回路也可能导致嗡嗡声，这是因为设备插入了多个电路。

> [!TIP]
> 在某些情况下，可能能够使用均衡器或降噪软件插件来帮助消除录音中的噪音，但最好在源头阻止噪音。

设置级别，以便在不过载的情况下使用大多数可用的数字录音动态范围。 这意味着声音大，但不至于大到音频失真。 下图显示了精良录音波形的示例：

![精良录音波形](media/custom-voice/good-recording.png)

这里使用了大部分范围（高度），但信号的最高峰未到达窗口的顶部或底部。 还可看到录制中的无声状态近似于细的水平线，它表示低噪声基底。 该录音具有可接受的动态范围和信噪比。

根据使用的麦克风，使用高品质的音频接口或 USB 端口直接录制到计算机中。 对于模拟，要保持音频链简单：麦克风、前置放大器、音频接口和计算机。 每月支付合理的价格即可获得 [Avid Pro Tools](https://www.avid.com/en/pro-tools) 和 [Adobe Audition](https://www.adobe.com/products/audition.html) 许可证。 如果预算非常紧张，请试用免费的 [Audacity](https://www.audacityteam.org/)。

以 44.1 kHz 16 位单声道（CD 质量）或更高标准进行录制。 如果设备支持，目前最先进的是 48 kHz 24 位。 在将音频提交到自定义语音门户之前，请将音频的采样频率降至 16 kHz 16 位。 尽管如此，如果需要编辑，还可以获得高质量的原始录音。

理想情况下，让不同的人担任导演、工程师和配音员的角色。 不要自己独揽所有角色。 在紧要关头，导演可兼任工程师。

### <a name="before-the-session"></a>录音前

为避免浪费工作室时间，请在录音阶段前与配音员一起查看脚本。 虽然语音人才熟悉文本, 但他们可以阐明任何不熟悉单词的发音。

> [!NOTE]
> 大多数录音室在录音棚中提供脚本的电子显示屏。 在这种情况下，直接在脚本文档中键入你的浏览注释。 但是，仍然需要在录制期间使用纸质打印件进行记录。 大多数工程师也需要打印件。 你仍然需要再打印一份，在计算机出现故障的情况下供配音员备用。

配音员可能会询问你要强调一个话语中的哪个词（“关键词”）。 告诉他们你想要进行自然阅读, 而不是特别强调。 合成语音时可以增加强调部分；但原始录音时不需要。

指导配音员清楚地发音。 脚本的每个字词都要按书面形式发音。 不能像随意交谈中常见的那样省略某些音或将几个音混在一起，除非是在脚本中以这种方式编写。

|书面文本|不必要的随意发音|
|-|-|
|never going to give you up|never gonna give you up|
|there are four lights|there're four lights|
|how's the weather today|how's th' weather today|
|say hello to my little friend|say hello to my lil' friend|

配音员不应在字词之间有明显的暂停。 句子仍然要自然流畅，即使听起来有点正式。 这种精细的区分可能需要练习才能做到正确。

### <a name="the-recording-session"></a>录制阶段

在录制开始时，创建典型语句的参考录音或匹配文件。 要求配音员差不多每一页都重复这一行。 每次都将新录音与参考录音进行比较。 这种练习有助于配音员在音量、节奏、音调和语调方面保持一致。 同时，工程师可以使用匹配文件作为声音级别和整体一致性的参考。

在休息后或另一天继续录制时，匹配文件尤为重要。 需要为配音员多播放几次，每次都要他们复述一遍，直到匹配良好。

指导配音员深呼吸，并在每条语句之前暂停片刻。 在语句之间录制几秒钟的无声状态。 字词每次出现时都要以相同的方式发音并考虑上下文。 例如，作为动词的“录制”与作为名词的“录制”的发音不同。

在第一次录音之前录制好五秒钟的无声状态以捕捉“空间声”。 这种做法有助于自定义语音门户补偿录音中的任何剩余噪音。

> [!TIP]
> 你真正需要的只是配音员，只是为了能够制作其台词的单声道录音。 但是，如果以立体声录制，可使用第二个声道在控制室中录制闲谈，以捕获特定的行或试录的讨论。 从上传到自定义语音门户的版本中删除此音轨。

使用耳机仔细听配音员的表现。 需要的是优美且自然的用词、正确的发音，还不能有不必要的声音。 要立即要求配音员重新录制不符合这些标准的语句。

> [!TIP]
> 如果使用大量的话语，单个话语可能不会对生成的自定义语音产生明显的影响。 更好的方式是简单记下所有有问题的语句，将它们从数据集中排除，再看看自定义语音的结果如何。稍后可随时返回工作室并录制漏掉的示例。

对于每条语句，都要在脚本上记下试录号或时间码。 还要询问工程师能否在录音的元数据或提示表中标记每条语句。

进行定期休息, 并提供一个饮料, 帮助您的语音使语音成为良好的形状。

### <a name="after-the-session"></a>录制后

现代录音棚在计算机上进行后期。 录制结束时，将收到一个或多个音频文件，而不是磁带。 这些文件可能是 CD 质量（44.1 kHz 16 位）的 WAV 或 AIFF 格式或更高格式。 48 kHz 24 位很常见，也是理想选择。 通常不需要更高的采样率（如 96 kHz）。

自定义语音门户要求所提供的每条语句都在各自的文件中。 工作室提供的每个音频文件都包含多条语句。 因此，主要的后期制作任务是拆分录音并准备提交。 录音工程师可能已在文件中放置标记（或提供单独的提示表），用于指示每条语句的开始位置。

使用注释找到想要的确切试录，然后使用声音编辑实用工具（如 [Avid Pro Tools](https://www.avid.com/en/pro-tools)、[Adobe Audition](https://www.adobe.com/products/audition.html) 或免费的 [Audacity](https://www.audacityteam.org/)）将每条语句复制到新的文件中。

除了第一个剪辑，每个剪辑的开头和结尾只保留约 0.2 秒的无声状态。 该文件的开头要有整整 5 秒的无声状态。 不要使用音频编辑器“清零”文件的无声部分。 包括“空间声”将有助于自定义语音算法补偿任何剩余的背景噪音。

仔细听每个文件。 在此阶段，可剔除录音过程中漏掉的不必要的微小声音，比如在一行之前轻微的咂嘴声，但请注意不要删除任何实际的语音。 如果无法修复文件，请将其从数据集中删除，并记录你已将其删除。

保存前要将每个文件转换成 16 位和 16 kHz 的采样率，如果录制了工作室闲谈，则删除第二个声道。 以 WAV 格式保存每个文件，使用脚本中的语句编号命名文件。

最后，创建脚本，它将每个 WAV 文件与相应语句的文本版本进行关联。 要了解所需格式的详细信息，请参阅[创建自定义语音字体](how-to-customize-voice-font.md)。 可直接从脚本中复制文本。 然后创建 WAV 文件和 文本脚本的 Zip 文件。

将原始录音存档在安全的地方，以备日后需要时使用。 同时也要保留脚本和注释。

## <a name="next-steps"></a>后续步骤

已准备好上传录音和创建自定义语音。

> [!div class="nextstepaction"]
> [创建自定义语音字体](how-to-customize-voice-font.md)
